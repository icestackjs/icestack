# 在微信小程序里使用

`@icestack/presets` 内部实现了一套预设来兼容微信小程序

你可以使用 `@icestack/presets` 中导出的 `miniprogramPreset` 来构建出小程序版本的默认 `ui` 库

首先我们安装 `@icestack/presets`

```sh
# yarn / pnpm
npm i -D @icestack/presets
```

然后在 `icestack.config.js` 中注册

```js filename="icestack.config.js"
const { miniprogramPreset } = require('@icestack/presets')
/**
 * @type {import('@icestack/ui').Config}
 */
const config = {
  // 可以根据环境变量，把 h5 和 小程序的 outdir 设置为不同的目录
  outdir: './my-ui',
  presets: [miniprogramPreset()]
}

module.exports = config
```

这样你执行命令:

```bash
npx icestack build
```

构建出的就是适配小程序的库了。
